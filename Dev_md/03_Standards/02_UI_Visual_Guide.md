# 17. UI 시각적 제약사항 및 이미지 핸들링 가이드 (UI Visual Constraints & Image Handling)

## 1. 이미지 잘림 현상 분석 및 해결 가이드
현재 타로 카드 이미지 출력 시 발생할 수 있는 '잘림(Cropping)' 현상에 대한 기술적 분석과 가이드입니다.

### 1.1 현상 분석
*   **원인:** CSS의 `background-size: cover;` 속성 사용.
*   **영향:** 카드 컨테이너의 가로세로 비율(현재 140:233, 약 1:1.66)과 실제 이미지 파일의 비율이 일치하지 않을 경우, 이미지가 컨테이너를 가득 채우기 위해 확대되면서 상하 또는 좌우가 잘려 나갑니다.
*   **해결 방안:** 
    *   **옵션 A (Contain):** `background-size: contain;`으로 변경. 이미지가 잘리지는 않으나 컨테이너 내부에 빈 공간(여백)이 생길 수 있음.
    *   **옵션 B (Ratio Matching):** 카드 이미지 파일의 실제 비율에 맞춰 CSS의 `--card-width` 및 `--card-height`를 미세 조정.

### 1.3 최종 적용된 솔루션 (Implemented Solution)
*   **Stretch to Fit (`100% 100%`):** 테두리 잘림 현상을 완벽히 방지하기 위해 `background-size: 100% 100%;`를 적용했습니다.
    *   비율이 미세하게 다를 경우 이미지가 약간 늘어날 수 있으나, 정보 전달(숫자, 심볼)과 테두리 보존이 더 중요하다고 판단하여 채택했습니다.

---

## 2. 화면 축소 및 반응형 환경에서의 유의사항
화면을 축소하거나 모바일 기기(오른쪽 하단 영역 포함)에서 관찰할 때 주의해야 할 포인트입니다.

### 2.1 오른쪽 하단 영역 및 레이아웃 제약
*   **덱 스택(Deck Stack) 위치:** 현재 덱이 오른쪽 하단으로 치우치거나 다른 요소와 겹칠 경우, 사용자가 클릭하기 어려워질 수 있습니다. 
*   **그림자 효과:** 카드 덱 하단에 적용된 그림자(`box-shadow`)나 가상 요소(`.shadow-card-1/2`)는 화면 축소 시 레이아웃 수치 계산에 포함되지 않아 주변 요소와 겹침(Overlap)을 유발할 수 있습니다.

### 2.2 반응형 최적화 가이드
*   **브라우저 줌(Zoom):** 브라우저 확대/축소 시 `px` 단위는 절대적으로 크기가 고정되므로, 중요 레이아웃 요소는 `rem` 또는 `%` 단위를 혼용하여 가변성을 확보해야 합니다.
*   **동적 요소 크기 계산 (Dynamic Calculation):** JS로 생성되는 애니메이션 요소(예: 날아가는 카드)는 하드코딩된 크기를 사용하면 반응형 환경에서 괴리가 발생합니다. 반드시 `element.getBoundingClientRect()`를 사용하여 현재 렌더링된 요소의 실제 크기를 참조해야 합니다.
*   **터치 영역:** 모바일 환경에서 오른쪽 하단에 위치한 버튼이나 카드는 사용자의 엄지손가락 파지 영역과 겹칠 수 있으므로, 최소 **44x44px** 이상의 터치 영역을 확보하고 적절한 하단 여백(`padding-bottom`)을 제공해야 합니다.

### 2.3 이미지 해상도 저하 방지
*   이미지를 강제로 축소(`scale`)할 때 앤티앨리어싱(Antialiasing)으로 인해 선명도가 떨어질 수 있습니다. 
*   **해결:** CSS 속성 `image-rendering: -webkit-optimize-contrast;` 또는 `high-quality` 설정을 고려합니다.

---

## 3. 요약 지침 (Summary Checklist)
- [ ] 카드 이미지 비율과 컨테이너 비율(1:1.66) 일치 여부 확인
- [ ] 주요 텍스트나 테두리가 `cover` 속성으로 인해 잘리지 않는지 확인
- [ ] 모바일/축소 화면에서 오른쪽 하단 UI(덱, 버튼)가 브라우저 하단 바에 가려지지 않는지 확인
- [ ] 이미지 축소 시 선명도 유지를 위한 렌더링 옵션 검토
